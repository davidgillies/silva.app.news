<html tal:omit-tag=""
  tal:define="
    view here;
    model request/model;
    root_url model/get_root_url;
    user_role view/get_user_role;
    silva_root view/silva_root;
    title model/get_title_editable;
    vein string:edit;
    fields view/form/get_fields;
">

  <table class="columns columns2">
    <tbody>
      <tr>
        <tal:block replace="nothing">
          _____________________ sidebar _____________________
        </tal:block>
        <td class="left"
          tal:define="template_id string:tab_edit">
          <metal:block use-macro="view/macro_vein_navigation/macros/vein" />
        </td>

        <tal:block replace="nothing">
          _____________________ main _____________________
        </tal:block>
        <td class="main">


  <form action="." name="silvaObjects" method="POST">
    <table class="listing">
      <thead>
        <tal:block replace="nothing">
          ______________ vein + title row ______________
        </tal:block>
        <tr>
          <td class="top"
            colspan="3">
            <h2>
              <img tal:replace="structure python:view.render_icon(model)" />
              <span style="text-transform:lowercase;"
                tal:content="model/meta_type">Meta type</span> 
              &#xab;<tal:block content="model/get_title_or_id" />&#xbb;
              settings
            </h2>
          </td>
        </tr>
      </thead>

      <span tal:replace="nothing"> ______________ table header ______________ </span>
      <tbody>
        <tr>
          <th align="left" width="3%" nowrap="1">Element</th>
          <th align="left" width="40%">Content</th>
          <th align="left">Note</th>
        </tr>

        <span tal:replace="nothing"> -------------- form content ------------- </span>
        <tal:block tal:repeat="field fields">
          <tr class="even" tal:attributes="class python: test(repeat['field'].odd(), 'odd', 'even')">
            <td class="field-title">
              <nobr>
                <span tal:replace="field/title">Title</span>
                <span class="warning" tal:condition="field/is_required">*</span>
              </nobr>
            </td>
            <td tal:content="structure field/render">
              Field
            </td>
            <td tal:content="field/description">
              Description
            </td>
          </tr>
        </tal:block>

      </tbody>

      <tfoot>
        <tr class="controls">
          <td class="align-right"
            colspan="4">
            <input class="button" 
              type="submit"
              name="submit_settings:method"
              value=" Save settings "
              title="access key: alt-s"
              accesskey="s"
            />
          </td>
        </tr>
      </tfoot>

    </table>
  </form>

</html>
